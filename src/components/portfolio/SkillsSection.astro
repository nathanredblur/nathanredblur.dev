---
import { skillIcons, skillsData } from "@/data/skills";

// Duplicate skills for seamless loop
const skillsRow1 = [...skillsData, ...skillsData];
---

<section
	id="skills"
	class="relative z-50 border-t my-12 lg:my-24 border-[#25213b]"
>
	<!-- Glowing orb -->
	<div class="w-[100px] h-[100px] bg-violet-100 rounded-full absolute top-6 left-[42%] translate-x-1/2 filter blur-3xl opacity-20"></div>

	<img
		src="/section.svg"
		alt="Hero"
		width={1572}
		height={795}
		class="absolute top-0 -z-10"
	/>

	<div class="flex justify-center my-5 lg:py-8">
		<div class="flex items-center">
			<span class="w-24 h-[2px] bg-[#1a1443]"></span>
			<span class="bg-[#1a1443] w-fit text-white p-2 px-5 text-3xl rounded-md">
				Skills
			</span>
			<span class="w-24 h-[2px] bg-[#1a1443]"></span>
		</div>
	</div>

	<!-- Marquee Row 1 - Left direction -->
	<div class="marquee-container my-12">
		<div class="marquee marquee-left">
			{skillsRow1.map((skill) => {
				const iconUrl = skillIcons[skill];
				return (
					<div class="w-36 min-w-fit h-fit flex flex-col items-center justify-center transition-all duration-500 m-3 sm:m-5 rounded-lg relative hover:scale-110 cursor-pointer">
						<div class="h-full w-full rounded-lg border border-[#1f223c] bg-[#11152c] shadow-none group-hover:border-violet-500 transition-all duration-500">
							<div class="flex -translate-y-[1px] justify-center">
								<div class="w-3/4">
									<div class="h-[1px] w-full bg-gradient-to-r from-transparent via-violet-500 to-transparent"></div>
								</div>
							</div>
							<div class="flex flex-col items-center justify-center gap-3 p-6">
								<div class="h-8 sm:h-10 flex items-center justify-center">
									{iconUrl ? (
										<img
											src={iconUrl}
											alt={skill}
											class="h-full w-auto rounded-lg"
											width={40}
											height={40}
										/>
									) : (
										<div class="w-10 h-10 rounded-lg bg-violet-500/20 flex items-center justify-center text-violet-400 font-bold">
											{skill.charAt(0)}
										</div>
									)}
								</div>
								<p class="text-white text-sm sm:text-lg">{skill}</p>
							</div>
						</div>
					</div>
				);
			})}
		</div>
	</div>
</section>

<style>
	.marquee-container {
		width: 100%;
		overflow: hidden;
		mask-image: linear-gradient(
			to right,
			transparent,
			black 10%,
			black 90%,
			transparent
		);
		-webkit-mask-image: linear-gradient(
			to right,
			transparent,
			black 10%,
			black 90%,
			transparent
		);
	}

	.marquee {
		display: flex;
		width: max-content;
	}

	.marquee-left {
		animation: marquee-scroll-left 30s linear infinite;
	}

	.marquee-right {
		animation: marquee-scroll-right 40s linear infinite;
	}

	/* Pause on hover */
	.marquee-container:hover .marquee {
		animation-play-state: paused;
	}

	@keyframes marquee-scroll-left {
		0% {
			transform: translateX(0);
		}
		100% {
			transform: translateX(-50%);
		}
	}

	@keyframes marquee-scroll-right {
		0% {
			transform: translateX(-50%);
		}
		100% {
			transform: translateX(0);
		}
	}
</style>
