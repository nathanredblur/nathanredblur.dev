---
import { projectsData } from "@/data/projects";
import ProjectsSectionWindow from "./ProjectsSectionWindow.astro";
---

<section id="projects" class="relative z-50 my-12 lg:my-24">
	<div class="sticky top-10 z-10">
		<div class="w-[80px] h-[80px] bg-violet-100 rounded-full absolute -top-3 left-0 translate-x-1/2 filter blur-3xl opacity-30" />
		<div class="flex items-center justify-start relative">
			<span class="bg-[#1a1443] text-white p-2 px-5 text-2xl md:text-3xl rounded-md absolute left-0 z-10">Projects</span>
			<span class="w-full h-[2px] bg-[#1a1443]" />
		</div>
	</div>

	<div class="pt-24">
		<div class="flex flex-col gap-6">
			{projectsData.slice(0, 4).map((project, index) => (
				<div
					id={`sticky-card-${index + 1}`}
					class="sticky-card w-full mx-auto max-w-4xl sticky"
				>
					<div class="box-border flex items-center justify-center rounded shadow-[0_0_30px_0_rgba(0,0,0,0.3)] transition-all duration-500">
						<ProjectsSectionWindow project={project} />
					</div>
				</div>
			))}
		</div>
	</div>
</section>

<style>
/* Sticky Cards for Projects */
#sticky-card-1 {
	top: 4rem;
}
#sticky-card-2 {
	top: 5rem;
}
#sticky-card-3 {
	top: 6rem;
}
#sticky-card-4 {
	top: 7rem;
}
</style>